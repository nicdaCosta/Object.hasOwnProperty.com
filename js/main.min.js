basket.require({url:"js/vendor/modernizr.min.js",key:"modernizr",unique:"1.1.0"},{url:"js/vendor/jquery.min.js",key:"jQuery",unique:"1.9"},{url:"js/Grep.min.js",key:"Grep",unique:"0.2"}).then(function(){"use strict"
var $hasOwnProperty=function(){var e=localStorage.getItem("prevSearches")
$hasOwnProperty.history=e?e.split(","):[],$(".results").on("click",".isObject",function(){var e=$(this),r=e.parent("li")
r.toggleClass("expanded")}),$(".historyPanel").on("click","a",function(e){$hasOwnProperty.search(e,$(this).text())}),$("button.search").on("click",$hasOwnProperty.search),$("#Search").on("keypress",function(e){13===e.charCode&&$hasOwnProperty.search()}),$(document).on("beginSearch",$hasOwnProperty.updateHistory),$(document).on("endSearch",$hasOwnProperty.populateResults),$(document).on("historyUpdated",$hasOwnProperty.populateHistory)}
$hasOwnProperty.search=function(e,$term){$(".hero-unit").hasClass("compressed")||$(".hero-unit").addClass("compressed")
var $searchTerm=$term||$("#Search").val()
if(!$searchTerm){!$(".span3").hasClass("hide")&&$(".span3").fadeOut().addClass("hide"),!$(".span9").hasClass("hide")&&$(".span9").fadeOut().addClass("hide")
var $alert=$(".alert"),$alertText=$alert.find("p")
return $alertText.text("Please enter in a valid search term"),$alert.fadeIn(),!1}$searchTerm=/^\/[\W\w]+/gi.test($searchTerm)?eval($searchTerm):$searchTerm,$(".alert").fadeOut(),$(document).trigger("beginSearch",[$searchTerm]),$(".alert"),$(".span3").hasClass("hide")&&$(".span3").fadeIn().removeClass("hide")},$hasOwnProperty.populateResults=function(e,r){var a=$(".results")
a.empty(),a.append(r),a.parent().hasClass("hide")&&a.parent().fadeIn().removeClass("hide")},$hasOwnProperty.updateHistory=function(e,r){var a=$hasOwnProperty.history||[]
5===a.length&&a.shift(),a.push(r),localStorage.setItem("prevSearches",a),$(document).trigger("historyUpdated",[a])},$hasOwnProperty.populateHistory=function(){var e=$hasOwnProperty.history.reverse(),r=$(".historyPanel"),a=r.children("li").length
if(a){5===a&&r.children("li:last").remove(),r.find(".active").removeClass("active")
var t=document.createElement("li")
t.className="active"
var s=document.createElement("a")
s.href="#",s.textContent=e[0],t.appendChild(s),r.prepend(t)}else{var n=document.createDocumentFragment()
e.forEach(function(e,r){var a=document.createElement("li")
a.className=0===r?"active":""
var t=document.createElement("a")
t.href="#",t.textContent=e,a.appendChild(t),n.appendChild(a)}),r.empty(),r.append(n)}},$hasOwnProperty()})
